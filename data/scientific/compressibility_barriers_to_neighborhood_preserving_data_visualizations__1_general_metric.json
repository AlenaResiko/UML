{
  "authors": [
    "Szymon Snoeck",
    "Noah Bergam",
    "Nakul Verma"
  ],
  "date_published": "2025-08-09",
  "raw_tex": "It is shown\\todo{!!} \nTake any graph \\(G\\in \\Gn\\). Arguably the most natural realization of this graph in a metric space is induced by its shortest path distances. This immediately provides an \\(\\alpha\\)-preservation of $G$ for \\textit{all} \\(\\alpha\\in (0,2)\\) in an $n$-point metric space, yielding a doubling dimension of \\(O(\\log n)\\) \\st{-doubling dimension (because it is an $n$-point metric space;} \n(see Observation \\ref{obs:n_point_dd}). The key question is whether this \\(\\log(n)\\)-scaling \\todo{What does scaling mean?} \nis necessary. It turns out that there exist graphs which do require this scaling. In fact, we show that \nthese hard instances comprise an overwhelming fraction of $\\Gn$ and persist even if we allow for a substantial overlap between neighbors and non-neighbors ($\\alpha \\ll 1$)\n\\todo{Tbh I still find this confusing given our preliminaries.}. \\todo{Alpha non constant and going to 0? \nBecause this is not true if alpha goes to 0 fast enough and at that point what is the point of alpha preserving at all.}\nInterestingly, the situation does not improve even for graphs with low connectivity, e.g.\\ \\(k\\)-regular graphs.   very sparse graphs: we show analogous scaling results for the bulk of \\(O(1)\\)-regular graphs.\n\n\nWe show that an overwhelming fraction of graphs in \\(\\Gn\\) are hard to embed, in the sense that they exhibit are worst-case instances for \\(\\alpha\\)-preservation. This result shows that even though one might assume that preservation is an easier-to-meet criterion for structure preserving embedding than approximate isometry---which requires retaining the entire global structure of the data---it is in fact just as hard. Even setting $\\alpha$ very small and thus allowing large overlap between neighbors and non-neighbors is not enough to allow for constant dimensional embeddings. Therefore, these embedding algorithms which justify the success of their extreme dimension reductions on preserving only local structure are guaranteed to fail to preserve almost any input.\n\n\n\\subsection{Lower Bounds}\n\nTreating any graph as a metric space with shortest path metric provides a trivial way to construct an $(\\alpha < 2)$-preservation. Since the graph has $n$ points, such an $\\alpha$-preservation has doubling dimension at most $\\lceil \\log_2 n\\rceil$ which gives a trivial upper bound (see Observation \\ref{prop:trivial_UB} for precise statement). \n\nIt turns out that the difficulty of \\(\\alpha\\)-preservation is modulated by the interplay between diameter and clique patterns. \nIn order to preserve neighborhoods and separate non-neighbors in a graph, \nBy analyzing the typical diameter and clique patterns for general graphs and \\(k\\)-regular graphs, we derive \\(\\alpha\\)-preservation lower bounds of \\(\\Omega(\\log n)\\) and \\(\\Omega(\\log n/\\log\\log n)\\), respectively (for \\(\\alpha\\) constant). In other words, the trivial $\\alpha$-preserving embedding is optimal for most general graphs and near-optimal for most \\(O(1)\\)-regular graphs.   that an overwhelming fraction of these graphs require almost the worst-possible \n\nThe above result begs the question: is it possible to do much better than this for many $G \\in \\Gn$ graph? We prove that it is not:\n\n\\todo[inline]{See theorem 7.8 from Friezes random graphs + Noah's diam 2 argument to get a finite sample result for general graphs}\n\\todo{Note that $|P(G)|   \\chi(G^c)$ which is exactly calculated on page 25 of [see comment in latex]}\nPage 25 of https://etd.ohiolink.edu/acprod/odb_etd/ws/send_file/send?accessionosu1626276760844746&dispositioninline gives tight result for |P(G)| for erdos renyi graphs\n\\begin{restatable}{theorem}{NeighborPreservingMain} \\label{thm:NeighborPreservingMain}\n   For any $\\alpha \\in (0,2)$, we have the following.\n\n   \\begin{enumerate}[label\\ref{thm:NeighborPreservingMain}(\\roman*)]\n   \\item[(i)] \\label{thm:NeighborPreservingMain_1}\n   For all $n\\geq 82$, at least $1-2^{-n/5}$ fraction of $G \\in \\Gn$:\n\n   $$\\dim_\\alpha(G) \\geq \\frac{\\log\\left(n\\right) - 2\\log(2)}{2\\log(8/\\alpha)}   \\Omega \\left ( \\frac{\\log(n)}{\\log(8/\\alpha)}\\right).$$\n   \n   \\item[(ii)] \\label{thm:NeighborPreservingMain_2} For fixed \\(k\\geq 3\\), at least $1-o_n(1)$ fraction of $G \\in \\Gnk$: \n   \n   $$\\dim_\\alpha(G) \\geq \\frac{\\log\\left(n \\right)+\\log\\left( 1 - \\left (\\frac{1}{k-1} \\right )^\\frac{2}{k-2} \\right)-\\log(2)}{\\log\\left( \\frac{8\\log(3n \\log(n))}{\\alpha\\log(k-1)}\\right)}   \\Omega \\left (\\frac{\\log(n)}{\\log(\\log(n))+\\log(8/\\alpha)} \\right).$$\n\n   \\item[(ii)] For all even integers $n\\geq 6$ and $k\\geq 4$, at least $1-O(n^{-k+2})$ fraction of $G\\in \\Gnk$:\n   \n   $$\\dim_\\alpha(G) \\geq   \\frac{\\log(n/(k+1))}{\\log\\left(\\frac{4}{\\alpha}\\left\\lceil \\frac{\\log (n-1)}{\\log \\left(\\frac{k}{2\\sqrt{k-1}+1/2}\\right)}\\right\\rceil\\right)}   \\Omega\\Bigg(\\frac{\\log(n/k)}{\\log \\frac{\\log n}{\\log k}\\log_k(n)\n   + \\log(4/\\alpha)} \\Bigg).$$\n   \\end{enumerate}\n\n\\end{restatable}\n\nThe hard instances (those that achieve the lower bound) for \\(\\alpha\\)-preservation \nstem \nThis incompressibility result is realized by the prevalence of graphs with high connectivity. Take for instance the star graph on \\(n\\) nodes: it is a diameter-2 graph with $n-1$ edges. Intuitively, a neighborhood preservation (neighbors close, non-neighbors far) of a star graph requires packing \\(\\Omega(n)\\) points in a \\(O(1)\\)-diameter ball, yielding a \\(\\log(n)\\)-type lower bound on the dimension of the target metric space. We can apply the same intuition for constant-degree expanders (e.g.\\ Ramanujan graphs \\citep{hoory2006expander, huang2024ramanujan}), yielding a similar result for \\(\\Gnk\\). \n\nWe now make this intuition precise. A key quantity in our analysis will be the notion of a clique partition of a graph   (also known as the \\emph{minimum clique cover} in the literature), which is a natural measure of neighborhood connectivity.\n\nThe above result complements our upper bound, Proposition \\ref{prop:trivial_UB}, and \nshows that, for various types of graphs, nearly all of them require $\\Theta(\\log n)$ dimensions to embed for \\emph{all} $\\alpha \\in (0,2)$. \n\n\n\nIt is worth noting that our lower bound matches the traditional dimension bounds for approximate isometry $\\Theta(\\log(n))$ (see \\citet{Matou\u0161ekchapter15} for more details). Moreover, it does so for nearly all inputs\\todo{Has such a result been shown for approximate isometry. If not that should be noted}. Even if we restrict our focus to a set of graphs, such as $\\Gnk$, which form a vanishing fraction of $\\Gn$, we still get a near $\\Theta(\\log n)$ bound on nearly all of them. Another takeaway is that the sparsity of the graph does not play as significant a role in preservation dimension as dense graphs---like those in $\\Gn$---and sparse graphs---such as those in $\\Gnk$---have practically identical lower bounds. All of this is to say that local structure preservation in the broad setting of embedding a \\emph{single} graph into \\emph{any} metric space is much harder than initially expected.\n\n   One should note that probabilistically ``typical'' graphs\u2013\u2013\u2013even those sampled uniformly over \\(O(1)\\)-regular graphs\u2013\u2013\u2013are not quite representative of real data. Our proofs typically   \n\nThough striking at first glance, the practical significance of Theorem \\ref{thm:NeighborPreservingMain} is not immediate. \n\n\\textcolor{red}{k-regular graphs aren't super practical, see later section}\n\n\\textcolor{red}{add something to the effect of - worst case are generated from expandards; knn graphs for typical datasets is not reflective of this, etc}\nThis is a startling result as $\\alpha$-preservation outwardly appears to be a much weaker notion of structure preserving embedding in comparison to traditional objectives such as approximate isometry. However, it still requires the same lower bound of $\\Theta(\\log n)$ dimensions (see \\citet{Matou\u0161ekchapter15} for more details). Therefore, data-visualization methods which justify there success by trying to preserve local neighborhood structure are actually unable to do so in constant dimensions on almost all inputs. This is of great concern to practitioners who use these algorithms to form hypotheses about their data. Hence, we suggest that the outputs of these algorithms be taken with a heavy grain of salt and that all hypotheses derived from the embeddings created by algorithms such as UMAP and t-SNE be checked via other trust worthy methods such as traditional clustering algorithms and other sorts of statistical analysis.\n\n\\subsection{Proof of the Lower Bound}\n\n\\textcolor{red}{talk about the cycle graph}\n\nThe key observation for our lower bound is that the (in)compressibility of a graph is characterized by the interplay between the diameter of the graph and the distribution of cliques within that graph. We formalize this through the concept of a clique partition. \n\n\\begin{definition}[clique partition]\n   Let $\\Pi(V)$ be the set of all partitions of the vertex set $V$. Define $P: \\Gn \\rightarrow \\Pi(V)$ such that\nFor $G\\in \\Gn$, define the \\emph{clique partition} of \\(G\\), denoted $P(G)$, as the smallest-sized partition\\footnote{We break ties in an arbitrary but fixed manner.} of \\(V\\) such that for all $S \\in P(G)$, $G|_S$ is a clique. We call \\(P(G)\\) the clique partition of \\(G\\). \nNote that if multiple valid partitions exist for some $G$, $P(G)$ returns one fixed option.\n\\end{definition}\\todo{Add $G^c$ definition.}\nOne can relate the clique partition to fundamental graph quantities which will be helpful in our discussion later.\n\\begin{observation} \\label{prop:PGlowerbounds}\n   For all $G   (V,E)$, we have let $\\iota(G) \\subseteq V$ be the largest independent set and let $\\kappa(G) \\subseteq V$ be the largest clique. Then:\n   $\\chi(G^c)   |P(G)|\\geq \\max \\left ( |\\iota(G)|, \\frac{|V|}{|\\kappa(G)|} \\right )$, where \\(\\chi(G^c)\\) is the chromatic number of the complement graph of \\(G\\). \n\\end{observation}\n\n\\iffalse\n\\todo[inline]{remove proof}\n\n\\begin{proof}\nThe correspondence between $\\chi(G^c)$ and $|P(G)|$ can be determined trivially. Assign   each part $S\\in P(G)$ a unique color. Since each $S$ is a clique in $G$, any pair of distinct nodes in $S$ necessarily doesn't share an edge in $G^c$. This therefore provides a \nvalid coloring of $G^c$, establishing $|P(G)| \\geq \\chi(G^c)$.\nFor the reverse direction, consider the partition of nodes induced by a coloring of $G^c$ that uses exactly $\\chi(G^c)$ colors. Observe that any pair of distinct nodes in each part necessarily shares an edge in $G$, implying that nodes in each part forms a clique in $G$. Therefore $|P(G)| \\leq \\chi(G^c)$ since it is the minimum such partition.\n\n   For establishing the inequality, observe that no two distinct $u,v \\in \\iota(G)$ can be in the same part of the partition $P(G)$. Hence, $|P(G)| \\geq |\\iota(G)|$. Moreover, no $S \\in P(G)$ can have size greater than $|\\kappa(G)|$. Thus $|P(G)| \\geq {|V|}/{|\\kappa(G)|}$.\n\\end{proof}\n\n\\fi \n\nWe note in passing that $|P(G)|$ is equivalent to the chromatic number of the graph's complement. \nWe can quantify the difficulty of $\\alpha$-preservation dimension in terms of clique partitions of the input graph $G$.\n: namely $\\chi(G^c)   |P(G)|$ where \\(G^c\\) denotes graph complement. \nThe size of \\(P(G)\\) essentially tells us the ``effective number of vertices'' in the graph, which translates into an . We note that \nThe key insight behind the proof of Theorem \\ref{thm:NeighborPreservingMain} is that the minimum doubling dimension needed to preserve a graph is intimately related to the chromatic number of that graph's complement. A simple remark shows that $\\chi(G^c)$ corresponds to the smallest partition of the vertices such that each part in the partition forms a clique:\n\\begin{remark}\n   In other words, $P(G)$ is the $m$-partite partition of $G^c$ where $m$ is as small as possible. \n   $|P(G)|   \\chi(G^c)$.\n\\end{remark}\nThis correspondence comes from the fact that the parts $S \\in P(G)$ are cliques and hence compressible, but vertices which are not in the same part must maintain some separation. Thus, $\\chi(G^c)$ tell us about how many points in the embedding must be well separated. In order to achieve this separation, high doubling dimension is required which gives us our main result. Moreover, for the $\\alpha <1$ case, it turns out that $\\chi(G^c)$ captures the full story as it also gives us constructive upper bounds on $\\dim_\\alpha(G)$:\n\n\n\npresent our main lemma from which Theorem \\ref{thm:NeighborPreservingMain} follows:\n\n\\todo{I think the whole \\(P(G)\\) concept could benefit from a figure.}\n\n\\begin{lemma}\\label{lem:preservation-hammer}\n   For all $G   (V,E) \\in \\Gn$, and all $\\alpha\\in   (0,2) $,\\footnote{We use the convention that the maximum of an empty set in \\(\\mathbb{R}\\) is \\(-\\infty\\).}{We shall assume for the rest of the paper that $\\log(0)$ is defined as $- \\infty$.}}\n   $$\\dim_\\alpha(G) \\geq \\max_{\\substack{U \\subseteq V \\\\ |U| \\geq 2}}\\frac{\\log |P(G|_{U})|   \\chi(G^c|_{V'}\n   }{\\log(4\\gdiam(G|_{U})/\\alpha)}.$$   \\textcolor{red}{n1 case}\n\n   $$\\dim_\\alpha(G) \\geq \\log(n)$$\n\\end{lemma}\nBefore proving this, it is instructive to understand the significance of the ratio: it captures our intuition of large packing (numerator) in a small space (denominator).\n: difficult graphs have a large clique partition with respect to their diameter.\nConsider the aforementioned star graph, which has a \\(\\Omega(n)\\)-sized clique partition and \\(O(1)\\) diameter, recovering the expected \\(\\log(n)\\)-lower bound. This lower bound tells us that difficult graphs have a large clique partition with respect to their diameter. The ratio here is important. For instance, t\nIn contrast, the cycle graph\u2013\u2013\u2013which can clearly be \\((\\alpha < 2)\\)-preserved in constant-dimensional \\(\\ell_1\\) space\u2013\u2013\u2013has both \\(\\Omega(n)\\)-sized clique partition and diameter, relaxing our lower bound to accommodate this case. , and indeed, one can show the \\(\\alpha\\)-preservation dimension is constant.\n\n\\begin{proof}\n\\todo{Handle existence of $f$ issue.}\nLet \\(f_G: V\\to\\X^n\\) be an \\(\\alpha\\)-preservation of \\(G\\) into some target metric \\((\\X,\\rho)\\) with neighbor threshold $r>0$ (see Definition \\ref{def:preserve}). Note that such a map always exists (see Observation \\ref{obs:trivial_UB}).\nFor a target space \\((\\X,\\rho)\\), fix $f_G: V \\to \\X^n$ with neighbor threshold $r>0$ (cf.\\ Definition \\ref{def:preserve}) that $\\alpha$-preserves $G$.\\todo{how do we know that f exists? need to say alpha<2 implies that} \nNow for any $U \\subseteq V$, let $G':G|_{U}$ be a vertex-induced subgraph. Without loss of generality, assume $G'$ has finite diameter (otherwise the bound is trivially true). We proceed via a covering argument.The bound has two main ingredients which will be proved later on:\n\n   First, we show that $\\diam(f_G(U)) < r \\cdot \\gdiam(G')$. Of course, every pair of vertices $u,v\\in U$ have a path length of at most $\\gdiam(G')$. A trivial application of triangle inequality shows $\\rho(f_G(u), f_G(v))$ is bounded by $r\\cdot \\gdiam(G')$ since every successive vertex pair in the path from $u$ to $v$ needs to be within distance $r$.\n\n   Next, we show that $\\mathcal{N}(f_G(U), \\alpha \\cdot r/2) \\geq |P(G')|$. \n   the minimum \\((\\alpha \\cdot r/2)\\)-covering of \\(f_G(U)\\) has size at least \\(\\big|P(G|_U)\\big|\\). To show this, we lower bound the cover size of $G'$. \n   Consider any $(\\alpha \\cdot r/2)$-covering \\(\\mathcal{C}   \\{c_1,\\ldots,c_m\\}\\) of $f_G(U)$. \n   Note that for all $c \\in \\mathcal{C}$ and distinct $u,v \\in U$, if $f_G(u),f_G(v) \\in B_{\\alpha \\cdot r/2}(c)$, then $\\rho(f_G(u), f_G(v)) < \\alpha \\cdot r$, which implies $u \\sim v$ since $f$ $\\alpha$-preserves $G$. \n   For each $i \\in [m]$, iteratively define \n   $$P_i : \\Big\\{u \\in U\\ \\Big|\\ f_G(u) \\in B_{\\alpha \\cdot r/2}(c_i)\\Big\\} \\setminus \\bigcup_{k < i} P_k.$$   \n   Observe that $G'|_{P_i}$ is a clique, since for all distinct \\(u,v\\in P_i\\), $\\rho(f_G(u), f_G(v)) < \\alpha \\cdot r$, which by definition of \\(\\alpha\\)-preservation implies \\(u\\sim v\\). Note that \\(P':\\{P_i\\}_{i\\in [m]}\\) constitutes a clique partition of \\(U\\), therefore $|P(G')| \\leq |P'| \\leq m$.   , hence no cover of size less than $|P(G')|$ can exist. \n\n   Therefore, the $(\\alpha\\cdot r/2)$-covering number of the ${r \\cdot \\gdiam(G')}$ radius ball containing the embedding of $G'$ is at least $|P(G')|$ which implies that:\nTherefore, by Observation \\ref{obs:covering_number},\n   $$|P(G')| \\leq \\N\\left(r \\cdot \\gdiam(G'), \\frac{\\alpha \\cdot r}{2} \\right) \\leq \\left( \\frac{4 \\gdiam(G')}{\\alpha}\\right)^{\\dim(\\X)}.$$\nEquivalently, for \\emph{any} $\\alpha$-preserving \\(f_G:V\\to\\X^n\\) on a metric space $\\X$ and subgraph $G':G|_U$ induced from \\emph{any} $U\\subseteq V$, we have $\\dim(\\X) \\geq \\log(|P(G')|)/\\log\\left(\\frac{4\\gdiam(G')}{\\alpha}\\right )$\n$\\dim(\\X) \\geq \n{\\Big(\\log|P(G')| \\Big)}\n\\Big/\n{\\Big(\\log(4\\gdiam(G') / \\alpha)\\Big)}$\n${\\log({\\frac{4\\gdiam(G')}}/{\\alpha} )}}$\n which yields the lemma statement.\n\\end{proof}\n\n\\todo[inline]{Include some discussion of how diam term is needed. For example, cycles are embeddable in 1 dimensions (indeed you can embed them in $S^1$) and have $|P(G)|   \\lceil n/2 \\rceil$. Thus, you need $\\gdiam(G)   \\lfloor n/2 \\rfloor$ to appear in the denominator for the bound to be correct.}\n\nIn order to use Lemma \\ref{lem:preservation-hammer} to generate lower bounds, $\\chi(G^c)$ must be bounded. We use the following simple yet effective lower bounds:\n\n\\todo{write it cleanly}\n\nT\\ref{thm:NeighborPreservingMain}\n\nThe proof of Theorem \\ref{thm:NeighborPreservingMain} proceeds by analyzing the key quantities \\(|P(G)|\\) and \\(\\Delta(G)\\) for typical graphs in \\(\\Gn\\). and then calling upon Lemma \\ref{lem:preservation-hammer}. \nWe think of a typical graph as being drawn uniformly at random from \\(\\Gn\\) (equivalently, produced by the Erd\u0151s\u2013R\u00e9nyi model with parameter \\(1/2\\)). \nTo analyze a typical graph, consider a uniform distribution over \\(\\Gn\\), which is equivalent to the distribution induced by the Erd\u00f6s-Renyi model with parameter \\(1/2\\).\nWith high probability, such a graph has constant diameter and a large clique partition. The latter follows from Observation \\ref{prop:PGlowerbounds} and a refined analysis of established bounds on clique numbers of Erd\u0151s\u2013R\u00e9nyi graphs \\citep{frieze2016RandomGraphs}. For the \\(\\Gnk\\) lower bound, a similar analysis yields \\(\\Delta(G)   O(\\log n)\\) and \\(|P(G)|   \\Omega(n)\\). \\todo{Cite sources for this no? Also this is not my analysis but rather a plug and play so maybe rewrite this sentence?}. \nThe diameter upper bound follows from well-known expander properties of \\(k\\)-regular graphs \\citep{BollobsDiam, huang2024ramanujan}. The clique partition lower bound follows from analyzing \\(\\iota(G)\\)   \\citep{WormaldIndependent}. Formal details \non the proof of Theorem \\ref{thm:NeighborPreservingMain} \nare provided in Appendix \\ref{app:proof_general_metrics}.\n\nThe clique partition \\(P(G)\\) is a powerful concept, which helps us establish the near-worst-case difficulty of \\(\\alpha\\)-preserving typical graphs for \\emph{all} \\(\\alpha\\in (0,2)\\). In light of Corollary \\ref{cor:metric_ub_typical} and Lemma \\ref{lem:diam2graphs},\nIt is worth noting that our lower bound based on the clique partition \\(P(G)\\) is strong enough to establish near-worst-case difficulty of \\(\\alpha\\)-preserving typical graphs. \nIn fact, as we will see in the next section Proposition \\\n it tightly characterizes the \\(\\alpha\\)-preservation dimension of such graphs, which constitute \\((1-2^{-\\Omega(n)})\\)-fraction of \\(\\Gn\\).   \\textcolor{red}{change second sentence}\n\nFor the remaining (atypical) fraction of graphs, the situation can be different.   When \\(\\alpha > 1\\), however, a phase shift seems to occur. However, it misses something critical in the \\(\\alpha \\geq 1\\) case. Consider the following (atypical) graph: For specific (atypical) constructions, however,   is loose. However, it does not take into account the rather intuitive expectation that, as \\(\\alpha\\) grows past \\(1\\), the task of \\(\\alpha\\)-preservation becomes harder.\nConsider the following graph: let \\(G \\in \\Gn\\) (with \\(n\\) even) consist of two disjoint cliques of size \\( n/2\\) and exactly $n/2$ edges connecting vertices of the two cliques $1$-to-$1$. For \\(\\alpha > 1\\), a phase shift seems to occur. \nA straightforward packing argument gives $\\dim_\\alpha(G)\\Omega(\\log(n))$ for all $\\alpha   1 + \\Omega(1)$, yet our key Lemma \n\\ref{lem:preservation-hammer} is rendered ineffective since \\(|P(G)|   2\\) and \\(\\gdiam(G)   2\\).\n\\st{Here, $|P(G)|   2$ and $\\gdiam(G)   1$. Lemma 11 gives us a $\\Omega(1)$-dimension lower bound for all $\\alpha \\in (0,2)$. However, a straightforward packing argument shows that for $\\alpha   1 + \\Omega(1)$, we have $\\dim_\\alpha(G)\\Omega(\\log(n))$.}\n\nThis example highlights how, as \\(\\alpha\\) grows past unity\\st{$1$} \\textcolor{red}{unity}\n, the problem of \\(\\alpha\\)-preservation can become significantly harder for certain graphs. \\footnote{Lemma \\ref{lem:preservation-hammer}, meanwhile, does not meaningfully register the difference between, say, \\(\\alpha   1 + o(1)\\) versus \\(\\alpha   1 + \\Omega(1)\\).}.\nThe key difficulty of \\((\\alpha> 1)\\)-preserving this graph stems from the fact that there exist a large number of vertices in close proximity that have \\textit{distinct, yet overlapping} neighborhoods. To formalize this, we introduce the concept of a ``neighborhood partition,'' which we leverage in Lemma \\ref{lem:HAMMER2}, strengthening Lemma \\ref{lem:preservation-hammer} when \\(\\alpha   1 + \\Omega(1)\\). among any given subset of vertices. These neighborhood structures essentially force the vertices to be slightly far apart. We \n\n\\begin{definition}[neighborhood partition] \\label{def:CG}\nFor $G   (V,E) \\in \\Gn$ and $U \\subseteq V$, define the \\emph{neighborhood partition} of \\(G|_U\\), denoted $\\core(G|_U)$, as the smallest-sized partition\\footnote{We break ties in an arbitrary but fixed manner.} of \\(U\\) such that all $u$ and   $u'$ are in the same part if and only if they have identical neighborhoods with respect to $G$. That is, for all $u,u' \\in S \\in \\core(G|_U)$, we have $N(u)   N(u')$, where $N(u) : \\{ v \\in V: v \\sim_G u \\text{ or } vu\\}$.\n\\end{definition}\n\n{\\color{purple} The intuition behind $\\core(G)$ is that if $u,u'$ are such that $N(u)   N(u')$ then $u$ and $u'$ can sent to the same point in the embedding without loss of generality. Hence, $\\core(G)$ captures the number of points that need distinct embeddings when $\\alpha \\geq 1$. Likewise, $P(G)$ captures the number of points that need distinct embeddings if $\\alpha < 1$ since any clique, in this case, can be embedded as a single point. Taking this analysis further, $P(G)$ and $\\core(G)$ can be expressed identically as equivalence classes over $V$ with respect to the same relation but for two different ranges of $\\alpha$. For fixed   $G(V,E) \\in \\Gn$ and $\\alpha \\geq 0$, we define $_\\alpha$ be the relation on $V$ such that $u _\\alpha u'$ if and only if there exists $f$ that $\\alpha$-preserves $G$ and $f_G(u)f_G(u')$. If $V_{_\\alpha}$ is the minimum sized partition\\footnote{We break ties in an arbitrary but fixed manner.} of $V$ such that each $S \\in V_{_\\alpha}$ is an equivalence class of $_\\alpha$, then we can express $P(G)$ and $\\core(G)$ as:\n\\begin{equation*} V_{_\\alpha}   \\Bigg\\{\\begin{array}{ll}   P(G) &   \\alpha \\in (0,1) \\\\   \\core(G) &   \\alpha \\in [1,2)\\end{array}.\\end{equation*} \nWe utilize this correspondence to provide a tighter bound when $\\alpha > 1.$}\n\n\\begin{lemma}\n\\label{lem:HAMMER2}\nFor all \\(G   (V,E) \\in \\Gn\\) and \\(\\alpha \\in (1,2)\\),\n\\[\\dim_\\alpha(G) \\geq \\;\\max_{\\substack{U\\subseteq V \\\\ |U| \\geq 2}}\\;\\frac{\\log \\big| \\core(G|_U) \\big|}{\\log(\\frac{4\\gdiam(G|_U)}{\\alpha - 1})}.\\]\n\nIn particular, for \\(U   \\kappa(G)\\), \\(\\dim_\\alpha(G) \\geq \\frac{\\log |\\partial   \\kappa(G)|}{\\log(\\frac{1}{\\alpha-1})}\\).\nThen for all \\(U\\subseteq V\\) with \\(\\partial U\\) non-empty and \\(\\gdiam(\\partial U)   1\\) (i.e.\\ a clique).\n\\end{lemma} \n\\begin{proof}\nConsider the graph \\(G\\) consisting of \\(\\lfloor n/2 \\rfloor\\) vertices in a clique and \\(\\lfloor n/2\\rfloor\\) vertices which are each connected to exactly one unique vertex in the clique. \nIt suffices to exhibit the lower bound for all \\(U\\subseteq V\\) with $G|_U$ connected and $|\\core(G|_U)|   \\geq 2$ otherwise the bound is vacuously true. Fix any \\(\\alpha \\in (1,2)\\) and consider an \\(\\alpha\\)-preservation \\(f_G\\) of \\(G\\) in $(\\X,\\rho)$. Note that for all \\(u',u''\\in V\\) which are not in the same part of $\\core(G|_U)$, there exists \\(v \\in V\\) that is in either $N(u')$ or $N(u'')$ but not both since $N(u') \\neq N(u'')$. WLOG assume $v \\in N(u') \\setminus N(u'')$. By definition of \\(\\alpha\\)-preservation, this tells us:\n   \\[\\alpha r \\leq \\rho(f_G(u''),f_G(v))\\leq \\rho(f_G(u'),f_G(v)) + \\rho(f_G(u'),f_G(u'')) < \\rho(f_G(u'),f_G(u'')) + r\\]\n   \\[\\implies \\forall u',u'' \\text{ in distinct parts of }C(G|_U) \\hspace{1cm}\\rho(f_G(u'),f_G(u'')) > r(\\alpha - 1),\\]\n   where \\(r\\) is the neighborhood threshold of $f_G$ our \\(\\alpha\\)-preservation\n   (cf.\\ Definition \\ref{def:preserve}). \n   \\todo{there should be \"r\" on both sides}\n   \\[\\rho(v_j,v_i) + \\alpha\\leq \\rho(v_j,v_i) + \\rho(v_i,v_k) \\leq \\rho(v_i,v_k) \\leq 1,\\] therefore \\(\\rho(v_i,v_j) \\leq \\)\n   Since \\(f_G(U)\\) has diameter at most \\(r\\cdot \\gdiam(G|_U)\\),   constitutes\n   an \\(r(\\alpha-1)\\)-packing of a ball of diameter \\(r\\cdot\\gdiam( G|_U) \\) of size \\(|C(G|_U)|\\)\\todo{note: at least in X, exactly in V}\n   . Due to maximal packing estimates (cf.\\ Observation \\ref{obs:packing_to_covering})\\todo{of X? of V?}\n   , we have:\n   $$| \\core(G|_U)| \\leq \\mathcal{M}\\left(r\\cdot \\gdiam(G|_U), r(\\alpha - 1)\\right) \\leq \\mathcal{N}\\left(r\\cdot \\gdiam(G|_U), \\frac{r(\\alpha - 1)}{2}\\right) \\leq \\left(\\frac{4r\\cdot \\gdiam(G|_U)}{r\\cdot (\\alpha - 1)}\\right)^{\\dim(\\X)}.\n   \\leq 2^{\\dim(\\X)}\n   $$\nRearranging the terms yields the lower bound.\n\\end{proof}\n\n\\textcolor{red}{\nIn the interest of applying this lower bound in practice, note that \\(|C(G)|\\) is easily computable in terms of the rank of a modified version of the graph adjacency matrix.\n\\begin{observation}\n   For all \\(G\\in \\Gn\\), we have \\(|C(G)|   \\rank(A_G + I)\\).\n\\end{observation}\nThe straightforward computability of \\(|C(G)|\\) stands in stark contrast to \\(|P(G)|\\), which is NP-hard to compute per its correspondence with the chromatic number of \\(G^c\\), the graph complement \\citep{karp1975computational}.}\n\\begin{proof}   Let \\(A_i\\) and \\(A_j\\) be two rows of \\(A_G + I\\). Note that \\(A_i   A_j\\) if and only if \\(N(v_i)   N(v_j)\\). Since this matrix is boolean-valued, the number of distinct rows is precisely its rank.\\end{proof}}\n\nNote that for our aforementioned example (a $1$-to-$1$ perfect matching of two disjoint cliques), Lemma \\ref{lem:HAMMER2} provides the tight lower bound of \\(\\Omega(\\log n)\\) for $\\alpha>1$ case. \n\nNote as well that Lemma \\ref{lem:HAMMER2} is an improvement of Lemma \\ref{lem:preservation-hammer} in the \\(\\alpha \\geq 1 + \\Omega(1)\\) case, since \\(|P(G|_U)| \\leq |C(G|_U)|\\) for all \\(U\\subseteq V\\). (one can easily pick one element from each part of \\(P(G|_U)\\) and obtain a set of vertices which all have different neighborhoods).\n\nNote that Lemma \\ref{lem:preservation-hammer} and Lemma \\ref{lem:HAMMER2} each serve a purpose: one bound does not subsume the other since they capture the difficulty of $\\alpha$-preservation for different ranges of $\\alpha$. In the next section, we show that the $P(G)$ and $C(G)$ characterizations of $\\alpha$-preservation are tight for their respective ranges of $\\alpha$.\n\n\n\nsince these graphs are expanders with high probability. In light of Observation \\ref{prop:PGlowerbounds}, we can \n\n\nObserve that each of the above bounds serve a different purpose. The $\\iota(G)$ bound becomes useful when the graph is sparse and thus $|\\iota(G)|$ is high. For example, asymptotically, $k$-regular graphs have $|\\iota(G)|   \\Theta(n)$ (\\cite{WormaldIndependent}) when $k   \\Theta (1)$ . On the other hand, the clique based bound shines when the graph is dense. For example, asymptotically, graphs randomly chosen from $\\Gn$ will have cliques of size no more than $\\Theta( \\log n)$ (\\cite{frieze2016RandomGraphs}) which gives that $|P(G)| \\geq \\Theta \\left (\\frac{n}{\\log n} \\right)$. It is also the asymptotic convergence of these properties that gives the almost all nature Theorem \\ref{thm:NeighborPreservingMain}. By Lemma \\ref{lem:preservation-hammer}, if almost all graphs of a given type have a uniform diameter bound and $\\chi(G^c)$ bound, then we get a dimension bound for nearly all of the graphs. This exactly how Theorem \\ref{thm:NeighborPreservingMain} is proved. This argument is detailed in the Appendix.\n\n\\todo[inline]{Conclusion: Implication of large fraction + lower/upper bound tightness. + applications.}\n\n\n\\subsection{Upper Bounds}\n\n\nAs discussed at the beginning of the section, one trivially has an upper bound on the $\\alpha$-preservation dimension of a graph $G$ in terms of the doubling dimension of the graph shortest path metric \\(\\rho_G\\).\n\\st{To every simple graph one can associate a metric space given by the shortest paths between vertices. Being an $n$-point metric space, it trivially has $O(\\log n)$ doubling dimension.   }\n\n\\begin{observation}\\label{obs:trivial_UB}\n   For all $G \\in \\Gn$ and $\\alpha \\in (0,2)$, $\\dim_\\alpha(G) \\leq \\dim(\\mathcal{X}_{\\rho_G}) \\leq \\lceil \\log_2 n \\rceil $, where $\\mathcal{X}_{\\rho_G}$ is the $n$-point shortest path metric derived from $G$. Recall \\[\\dim(\\X_{\\rho_G})   \\max_{v\\in V, r \\geq 1} \\log_2 \\mathcal{N}(B_{2r}(x) , r)\\]\n   , there exists a metric space $(\\X, \\rho)$ with doubling dimension at most $\\log_2(n)$ and $f:\\Gn \\to \\X^n$ such that $f$ $\\alpha$-preserves $G$ in $\\X$.\n\\end{observation}\n\nThe upper bound based on the shortest path metric is certainly not tight. \nObserve that upper bounding \\(\\alpha\\)-preservation dimension in terms of the doubling dimension of \nthis upper bound in terms of the shortest path metric is clearly not tight. Consider for instance the complete graph on \\(n\\) vertices. The doubling dimension (with respect to the shortest path metric) of this graph is \\(\\Theta(\\log n)\\), yet it can be \\(\\alpha\\)-preserved in constant dimensions, by simply sending all points to a one-point metric space. It is natural to ask whether an \\(\\alpha\\)-dependent bound is possible. Furthermore, the upper bound above is oblivious to the choice of \\(\\alpha\\). \n\nIt is natural to ask whether a more efficient \\(\\alpha\\)-preservation is possible based on some intrinsic structure in the input graph. Indeed, for certain examples of graphs, the upper bound in Observation \\ref{prop:trivial_UB} is clearly not tight. Consider that the complete graph on \\(n\\) vertices admits a zero-dimensional embedding (sending all points to a one-point metric space).\n\\todo{techncially not a metric space but a pseudometric...} \nExtending this logic, one can imagine that graphs composed primarily of large cliques also have low-dimensional embeddings, since one can send the entirety of these cliques to individual points. It turns out our notion of \\(P(G)\\) and \\(C(G)\\) nicely capture the notion complexity of $\\alpha$-preservation dimension. nicely captures the complexity of $\\alpha$-preservability of graphs, so long as the neighborhood separability gap $\\alpha$ is not too large. On the other hand when $\\alpha \\gg 1$, it is seen that the neighborhood partition dominates. Specifically,\n   \\textcolor{red}{Specifically,}\n\\st{In other words, graphs with small clique partitions should be easy to embed. We establish this below.}\n\n\\todo[inline]{perhaps combine prob 12 and 13 together into one statement?}\n\n\\begin{proposition}   For \\(\\alpha \\in (0,1]\\), \\(\\dim_\\alpha(G)   O(\\log|P(G)|/\\log_2(8/\\alpha))\\).\\end{proposition}\n\n\\iffalse\n\\begin{proposition}\\label{prop:nontrivial_PG_ub} Let \\(\\kappa^*(G)\\) be the refined maximal clique: \\(\\kappa^*(G) : \\argmax \\{|U|: U\\subseteq V, \\gdiam(U)   1, \\partial U   U\\}\\). Then \nFor all \\(G\\in \\Gn\\),\\(\\alpha\\in (0,1 + |\\kappa(G)|^{-1/\\log_2|P(G)|}]\\), \\(\\dim_\\alpha(G)   \\log|P(G)|/\\log_2(4/\\alpha)\\).\n\\begin{equation}\\label{eq:PG_UB}\\dim_\\alpha(G)   O\\Big(\\frac{\\log |P(G)|}{\\log_2(\\frac{4}{\\alpha})} + \\textbf{1}[\\alpha > 1]\\cdot \\frac{\\log |\\kappa(G)|}{\\log_2(\\frac{4}{\\alpha-1})}\\Big)\n\\dim_\\alpha(G)   \\Bigg\\{\\begin{array}{ll}\n   O\\big(\\frac{\\log|P(G)|}{\\log(4/\\alpha)}\\big) &   \\alpha \\in (0,1] \\\\\n   O\\big(\\log|P(G)| + \\frac{\\log|\\kappa(G)|}{\\log(\\frac{4}{\\alpha - 1})}\\big) &   \\alpha \\in (1,2)\n\\end{array}.\n\\end{equation}\nNote that, for \\(\\alpha \\in (1, 1+|\\kappa(G)|^{-1/\\log_2|P(G)|}]\\), the bound is simply \\(\\dim_\\alpha(G)   O(\\log|P(G)|)\\).\n\\textcolor{red}{as alpha approaches 2 (from below), the bound above shoots off to infinity, ideally it should be $\\log(2/(\\alpha-1))$ in the denominator}\nFor \\(\\alpha < 1\\), we have \\(\\dim_\\alpha(G)   O(\\frac{\\log_2|P(G)|}{\\log_2(1/\\alpha)})\\). \\todo{this can be absorbed into the case above}.\n\\end{proposition}\n\\todo{verify the constant 4}\n\\todo{verify where alpha1 case lies in eq (2)}\n\\begin{proof}\nFor any \\(G(V,E)\\in \\Gn\\), let $\\{P_1,\\ldots,P_m\\}$ be the $m$ parts induced by the clique partition $P(G)$. Let \\(H\\) be a graph on \\(P(G)\\) where \\(P\\sim_H P'\\) iff there exists \\(v\\in P\\) and \\(v'\\in P'\\) such that \\(v\\sim_G v'\\).\\todo{why define H when it is not used?}\\todo{~ undefined on a set of vertices}\\todo{P and P' unclear, assuming they are the parts in the partition to which v and v' belong to}\nLabel the vertices \\(v_1,\\ldots,v_n\\) and \nFor any $v \\in V$, with slight abuse of notation, let \\(P(v)\\) denote the part of \\(P(G)\\) to which \\(v\\) belongs.\nIt suffices to show (cf.\\ Proposition \\ref{prop:monotonicity}(i)) the existence of a \\(O(\\log |P(G)|)\\)-dimensional metric space in which we can \\(\\alpha\\)-preserve \\(G\\) for \\(\\alpha   1 + |\\kappa(G)|^{-1/\\log |P(G)|}\\). \n\nIn the case of \\(\\alpha < 1\\), observe that we can send each part to a single point,\\todo{verma will reword} and the distance between any points that lie in opposite parts must lie between \\(\\alpha\\) and \\(1\\). More precisely, let \\(\\X   \\{x_1,\\ldots,x_m\\}\\) and \\((\\rho,\\X)\\) with \\(\\alpha\\leq \\rho(x,x') \\leq 1\\) for all distinct \\(x,x'\\). Let \\(f_G(v)   x_i\\) for \\(v \\in P_i\\).\nIn other words, it suffices to construct an \\(\\alpha\\)-packing of size \\(|P(G)|\\) with diameter \\(1\\). \n\\[\\rho(v,v')   \\begin{cases}   0 & vv' \\\\   \\sigma(v,v') & \\text{otherwise}\\end{cases}\\]\nBy Observation \\ref{obs:grid_packing}, \\(\\X\\) can be constructed to have doubling dimension \\(O(\\log |P(G)|/\\log(4/\\alpha))\\)..\\todo{1/alpha and 2/alpha are VERY different things, which one is this?}\n\\todo{you should say O() dimension}\nthe metric given by \\(\\rho(v,v')   \\frac{(\\alpha + 1)}{2} \\cdot \\textbf{1}[P(v) \\neq P(v')]\\) is an \\(\\alpha\\)-preservation into a \\(|P(G)|\\)-size metric space, hence the doubling dimension is \\(\\log|P(G)|\\).\n\nFor the \\(\\alpha > 1\\) case, consider the $n$-point space on the vertices $V$ with distance $\\rho$ defined as follows (for any $v,v' \\in V$):\n \\[\\rho(v,v') : \\begin{cases}\n   0 & v   v' \\\\\n   \\alpha & v\\not\\sim_G v'\\\\\n   1 & v\\sim_G v',P(v) \\neq P(v') \\\\\n   \\sigma(v,v') & v\\sim_G v', P(v)   P(v')   \n   \\end{cases} , \\]\n\nwhere \\(\\sigma_p(v,v')\\) is a \\((p\\cdot \\alpha)\\)-packing of \\(|P(v)|\\) points in dimension \\(\\frac{\\log_2 |P(v)|}{\\log_2(\\frac{1}{\\alpha-1})} \\leq \\frac{\\log_2 |\\kappa(G)|}{\\log_2(\\frac{1}{\\alpha - 1})}\\).\n\nWe claim this is a metric space. \n\nwhere $\\sigma(v,v')$ is a metric embedding of \\(P(v)\\) as an \\((\\alpha-1)\\)-packing in diameter \\(<1\\). Per Observation \\ref{obs:grid_packing}, \\(n|P(v)|\\) points can be \\((\\alpha-1)\\)-packed in dimension \\(d   O(\\frac{\\log |P(v)|}{\\log(\\frac{4}{\\alpha-1})}) \\leq O(\\frac{\\log |\\kappa(G)|}{\\log(\\frac{4}{\\alpha - 1})})\\).\nthe distance induced by metric embedding of the part $P(v)$ as per Observation \\ref{obs:grid_packing} with $n|P(v)|$ and $d\\frac{\\log_2 |P(v)|}{\\log_2(\\frac{1}{\\alpha-1})}$);. \nNote that for all $i\\in[m]$ and distinct $v,v' \\in P_i$, we have \n$$\\alpha-1   |\\kappa(G)|^{-1/\\log(|P(G)|)} \\leq |P_i|^{-1/\\log(|P(G)|)} \\leq \\sigma(v,v')< 1.$$\nIt is straightforward to verify that $\\rho$ induces a metric on $V$. We will now determine its doubling dimension.\n\\begin{itemize}\n   \\item Any ball of radius \\(R < 1\\) contains points only from one part. By Observation \\ref{obs:grid_packing} it can be covered by \\(O(|P(G)|)\\) balls of radius $R/2$.\n   \\item Any ball of radius \\(R \\geq 1\\) can be covered by \\(|P(G)|\\) (open) balls of radius \\(1\\), each containing points from exactly one part. By Observation \\ref{obs:grid_packing}, each such ball can be covered by $O(2^{\\log|\\kappa(G)|/\\log(\\frac{4}{\\alpha-1})})$ balls of radius $1/2$. Hence we can cover the $R$ radius ball by $O(|P(G)|\\cdot 2^{\\log|\\kappa(G)|/\\log(\\frac{4}{\\alpha-1})})$ balls of radius $R/2$.\\todo{i have not checked this}\n\\end{itemize}\nThus, the doubling dimension of our construction is at most \\(O(\\log |P(G)| + \\frac{\\log |\\kappa(G)|}{\\log(\\frac{4}{\\alpha - 1})})\\), yielding the dimension lower bound for the \\(\\alpha > 1\\) case.\n\\todo{technically alpha1 case missing!}\nFinally, for the \\(\\alpha   1\\) case, pick some \\(\\beta \\in (0, 1 + 2^{-\\log_2|\\kappa(G)|/\\log_2|P(G)|})\\). For any \\(G\\in \\Gn\\), note that \\(\\dim_\\beta(G)   O(\\log |P(G)|)\\) per the work done above,\\todo{seems VERY unnecessary...} and \\(\\dim_\\alpha(G)\\leq \\dim_\\beta(G)\\) by Proposition \\ref{prop:monotonicity}(i).\n\\end{proof}\n\\fi\n\n\n\\begin{restatable}{proposition}{NontrivialUBPG} \n\\begin{restatableProposition}\n\\label{prop:nontrivial_PG_ub} \n   For all \\(G\\in \\Gn\\),\n\\begin{equation}\n\\nonumber\n\\label{eq:PG_UB}\n\\dim_\\alpha(G) \\leq \n   \\left\\{\n   \\begin{array}{ll}\n   \\Big\\lceil\\log_2(3)\\Big\\lceil \\frac{ \\log |P(G)|}{\\log \\lceil 1/\\alpha\\rceil}\\Big\\rceil \\Big\\rceil   & \\alpha\\in(0,1)   \\vspace{0.05in} \\\\ \n \\big\\lceil\\log_2 |P(G)| + \\log_2(3)\\big\\rceil & \\alpha1   \\vspace{0.05in} \\\\   \n   \\Big\\lceil\\log_2 |P(G)| + \\log_2(3) \\Big\\lceil \\max_{S\\in P(G)} \\frac{\\log |\\core(G|_S)|}{\\log \\lceil \\frac{1}{\\alpha-1}\\rceil} \\Big\\rceil \\Big\\rceil\n   & \\alpha\\in(1,2) \n   \\end{array}\n   \\right.\n.\n\\end{equation}\n\\end{restatable}\nThe proof follows an intuitive construction which hinges on the clique partition. For \\(\\alpha < 1\\), each part of the clique partition can be collapsed to a point yielding a \\(|P(G)|\\)-sized metric space of doubling dimension \\(O(\\log |P(G)|)\\). For \\(\\alpha \\geq 1\\), each part \\(S\\) is embedded as a sub-metric which necessarily contains some \\(\\alpha-1\\) packing depending on its neighborhood partition \\(C(G|_S)\\). Compare this with our lower bounds: Lemma \\ref{lem:preservation-hammer} for the \\(\\alpha \\leq 1\\) case and Lemma \\ref{lem:HAMMER2} for the \\(\\alpha > 1\\) case.\n\n\\begin{proposition}\\label{prop:nontrivial_PG_ub} \\end{proposition}\n\\todo{Move proof to appendix. It is not fun nor informative to read.}\n\nThis upper bound resembles Lemma \\ref{lem:preservation-hammer}'s lower bound in terms of dependence on clique partition \\(\\frac{\\log |P(G)|}{ \\log(8/\\alpha)}\\) \nand Lemma \\ref{lem:HAMMER2}'s lower bound in terms of dependence on neighborhood partition\\(\\frac{\\log |C(G)|}{ \\log(4/(\\alpha-1))}\\)\n. Indeed, for constant-diameter graphs (and therefore typical graphs, per Lemma \\ref{lem:diam2graphs}), it is tight. It falls short in terms of dependence on diameter. \n\nThis enables us to give a full characterization of \\(\\alpha\\)-preservation dimension for constant-diameter graphs, which by Lemma \\ref{lem:diam2graphs} constitute an overwhelming fraction of \\(\\Gn\\).\n\nresembles the lower bound from Lemma \\ref{lem:preservation-hammer}, in terms of the dependence on clique partition, neighborhood partition, and the \\(\\alpha\\) parameter. The key difference is the dependence on diameter. \n\n\\todo[inline]{Talk about how $\\log_2(|P(G)|)+\\log_2(\\max_{S\\in P(G)}|C(G|_S)|)   \\Omega(\\log_2(C(G)))$ so the above nearly matches Lemma \\ref{lem:preservation-hammer} on $\\alpha \\in (0,1]$ and Lemma \\ref{lem:HAMMER2} on $\\alpha \\in (1,2)$.}\n\n\n\n\n\\begin{corollary}\n\\label{cor:metric_ub_typical}\nFor all $\\alpha\\in(0,2)$ and $n > 0$, at least \\(1-2^{-\\Omega(n)}\\) fraction of \\(G\\in \\Gn\\) we have \\(\\dim_\\alpha(G)   \\Theta\\Big(\\frac{\\log |P(G)|}{\\log(8/\\alpha)}\\Big)\\).\nFor \\(\\alpha\\in (0,2)\\) and \\( G \\in \\Gn\\) such that \\(\\Delta(G)   O(1)\\), \n\\[\\dim_\\alpha(G)   \\Theta\\Big(\\frac{\\log|P(G)|}{\\log(8/\\alpha)} + \\indicate[\\alpha>1] \\cdot \\frac{\\log|C(G)|}{\\log(\\frac{4}{\\alpha-1})}\\Big). \\]\nFor all \\(G\\in \\Gn\\) such that \\(\\Delta(G)   O(1)\\),   \\[\\dim_\\alpha(G)   \\Theta\\Big(\\frac{\\log |P(G)|}{\\log(8/\\alpha)} + \\frac{\\log |C(G)|}{\\log(\\frac{8}{\\alpha-1})}\\Big) \\]\n\\end{corollary}\n\n\\todo[inline]{Talk about how above shows our lower bounds are tight.}\n\n\\textcolor{red}{The above corollar}\n\n\\iffalse\n\\subsection{Geometric Style Bound}\n\n\\todo[inline]{Note constants in this section are not final and will probably change.}\n\nWhile the combinatorial-based bounds from the previous section are tight for a vast majority of graphs, they are far from tight in all cases since they only reflect the smallest scales of the graphs, i.e. a packing of the cliques or unique neighborhoods. To see how this fails, consider extending the edges of a graph $G$ to be of length $m \\in \\mathbb{N}$ by adding $m-1$ new nodes for each edge. Call the new graph $G^m$. It is not hard to see that the diameter, $|P(G)|$, and $|C(G)|$ all scale polynomially by $m$ so that any bound of the form $\\Theta \\left ( \\frac{\\log(|P(G^m)|)}{\\log(\\Delta(G^m))} \\right)   O \\left ( \\frac{\\log(m|P(G)|^2)}{\\log(m\\Delta(G))} \\right) \\to 1$ as $m\\to \\infty.$ On the other hand, $\\Theta(\\dim_\\alpha(G^m))   \\dim_\\alpha(G)$ since the hyperconvex extension of a metric space does not change the doubling dimension by more than a constant (I think). Thus, our previous bounds are missing the larger possible scales appearing in $G^m$. To over come this, we introduce the following improved bound:\n\n\\begin{definition}\n   For $G(V,E)$ and $S \\subseteq V$, let $N(S)   \\{v \\in \\V: v \\in S \\text{ or } \\exists u \\in S \\text{ s.t. } u \\sim v\\}$. For $m \\in \\mathbb{N}$, define the $m$-fold neighborhood as, $N^m(S)   N(N^{m-1}(u))$. \\todo{Can alternatively define this in terms of balls, i.e. $B_{m+1}(u)   \\overline{B_m(u)}   N^m(u).$ It just depends how you want to do section 6.}\n\\end{definition}\n\\begin{theorem}\\label{thm:doublingdimbound}\n   For all $\\alpha \\in (0,2), n \\geq 1, G \\in \\Gn:$\n   $$\\dim_\\alpha(G) \\geq \\frac{1}{2}\\log_{16/\\alpha}\\left(\\sup_{u \\in V, m \\in \\mathbb{N}, m\\geq 2} \\mathcal{N}(N^{2m}(u), m)\\right)$$\n   $$ \\frac{1}{2}\\log_{16/\\alpha}\\left(\\sup_{u \\in V, R\\geq 2} \\mathcal{N}(B_{2R}(u), R)\\right)$$\n\\end{theorem}\n\nThe key idea behind the proof is that $\\alpha$-preservation amounts to a distorted embedding of the geodesic distances of a graph. As such, the embedding requires at least as many dimensions as the geodesic structure itself. This idea is broadly captured for any notion of local-structure preservation by the following lemma:\n\n\\begin{lemma}\\label{lem:geodesic}\n   For any edge weighted graph, $H   (U, F)$, with non negative weights (i.e. edges are $(u,v,w)\\in F$ for $u,v \\in U$ and $w \\geq 0)$\\todo{This is basically equivalent to a metric space.} and shortest path metric, it holds that for all $G   (V \\subseteq U, E \\subseteq F)$:\n\n   $$\\dim(G) \\leq 2 \\dim(H)$$\n\\end{lemma}\n\nVia this lemma, if you have some geodesic structure given by a graph $G   (V,E)$ and some embedding $f: V \\to \\X$, then $f(V)$ can be viewed as a weighted graph $H   (V, F)$ such that restricting $H$ to the geodesic structure can only decrease the dimension:\n\n$$\\dim(\\X) \\geq \\dim(f(V))   \\dim (H) \\geq \\frac{1}{2} \\dim((V, \\{(u,v,w)\\in F| (u,w) \\in E\\}).$$\n\nThus if $f$ preserves the local structure of an embedding then:\n\n$$\\dim((V, \\{(u,v,w)\\in F| (u,w) \\in E\\})   \\Theta(\\dim(G)).$$\n\n\\begin{proof}[Proof of Theorem \\ref{thm:doublingdimbound}]\n   \\todo[inline]{This is gonna be a bit sloppy since I am speed writing it on the train so I am just trying to get the jist down so you can play around with it.}\n   Fix $m\\geq 2$ and $u \\in V$:\n\n   $$\\mathcal{N}(N^{2m}(u), m) \\leq \\mathcal{M}(N^{2m}(u), m)$$\n\n   so there exist $\\bar{U} \\subseteq V$, with $\\gdiam(U) \\leq 4m$, containing a $m$-packing $U$ of size at least $mathcal{N}(N^{2m}(u), m)$. By the properties of $\\alpha$-preservation, any geodesic path of length $m$ can be stretched to at most $r \\cdot m$ and compressed no more than $\\alpha \\cdot r \\left\\lfloor \\frac{m}{2} \\right \\rfloor.$ So if $f:V \\to \\X$ is a an $\\alpha$-preservation of $G$ then by lemma \\ref{lem:geodesic}:\n\n   $$\\dim(\\X) \\geq \\dim(f(V)) \\geq \\frac{1}{2}\\dim(H   (V, \\{(u,v,\\rho(f(u),f(v))): (u,v)\\in E|_{\\bar U})).$$\n\n   Thus we have that:\n\n   $$\\mathcal{M}(N^{2m}(u), m) \\leq \\mathcal{M}(4m\\cdot r, \\alpha \\cdot r \\left\\lfloor \\frac{m}{2} \\right \\rfloor) \\leq \\left(\\frac{8m\\cdot r}{\\alpha \\cdot r \\left\\lfloor \\frac{m}{2} \\right \\rfloor}\\right)^{\\dim(H)}.$$\n\n   because $m \\geq 2$ and the above:\n\n   $$\\left(\\frac{8m\\cdot r}{\\alpha \\cdot r \\left\\lfloor \\frac{m}{2} \\right \\rfloor}\\right)^{\\dim(H)} \\leq \\left(\\frac{16}{\\alpha}\\right)^{\\dim(H)} \\leq \\left(\\frac{16}{\\alpha}\\right)^{\\dim(\\X)}.$$\n\n   which finishes the proof.\n\\end{proof}\n\n\\begin{proof}[Proof of Lemma \\ref{lem:geodesic}]\n   \\todo[inline]{This is gonna be a sketch for myself to remember a possible proof (pretty sure it works but not sure about the constants).}\n\n   Define $\\mathcal{N}_{\\diam}$ and $\\dim_{\\diam}$. Goal is to use the fact that for any metric space $\\mathcal{Y} \\subseteq \\X$, $\\dim_{\\diam}(\\mathcal{Y}) \\leq \\dim_{\\diam}(\\X)$ (note for $\\dim$ this holds but only if we add an extra factor of $2$).\n\n   For weighted graph $H$ and $\\epsilon>0$ tbd later, create $H'$ by splitting every edge $(u,v,w_{}uv)\\ in F$ into 3 edges by adding two new nodes: $(u,u_v, \\epsilon w) (u_v,v_u, (1-2\\epsilon)w), (v_u, v,   \\epsilon w).$ See that that $\\dim_{\\diam}(H')   \\dim_{\\diam}(H)$ for $\\epsilon$ small enough. Then by subset lemma for any edge in $(u,v, w) \\in F$:\n\n   $$\\dim_{\\diam}(H) \\dim_{\\diam}(H') \\geq \\dim_{\\diam}(H' \\setminus \\{u_v,v_u\\})   \\dim_{\\diam}(H \\setminus (u,v, w_{uv})).$$\n\n   If we can remove one edge then we can remove any number we want without increasing the $\\dim_{\\diam}$. Since $\\dim \\leq \\dim_{\\diam} \\leq 2\\dim$ we are done.\n\\end{proof}\n\\fi",
  "title": "Compressibility Barriers to Neighborhood-Preserving Data Visualizations"
}
